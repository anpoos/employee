

{% extends "index.html" %}

{% block content_block %} 
          <div class="card">
            <div class="card-header">
              {% if user.is_authenticated %}
              <a href="/employee/employee_create/" class="btn btn-success float-right">Create Employee</a> 
              {% endif %}

				<!-- <a href="/registration/" class="btn btn-success float-right">Sign In</a> -->
            </div>
            <!-- /.card-header -->
            <div class="card-body">
              <table id="employee" class="table table-bordered table-striped">
                <thead>
                <tr>
                  <th>Emp Name</th>
                  <th>Position</th>
                  {% if user.is_authenticated %}
                  <th>Edit</th>
                  <th>Delete</th>
                  {% endif %}
                </tr>
                </thead>
                <tbody>
				 {% for emp in emps %}
			      <tr>
			        <td><a href="/employee/employee_detail/{{emp.id}}">{{emp}}</a></td>
			        <td>{{emp.get_position_display}}</td>
              {% if user.is_authenticated %}
			        <td><a href="/employee/employee_edit/{{emp.id}}">Edit</a></td>
			        <td><a href="/employee/employee_delete/{{emp.id}}">Delete</a></td>
              {% endif %}
			      </tr>
			      {% endfor %}
                </tbody>
 
              </table>
            </div>
            <!-- /.card-body -->
          </div>
{% endblock %}

{% block extraload %}
<script src="/static/plugins/datatables/jquery.dataTables.js"></script>

<script>
  $(function () {
    $("#employee").DataTable();
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
    });
  });
</script>
{% endblock %}